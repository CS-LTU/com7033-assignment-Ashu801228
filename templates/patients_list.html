{% extends "base.html" %}
{% block title %}Patients{% endblock %}

{% block content %}
<h1>Patients</h1>

<p><a href="{{ url_for('main.create_patient') }}">Add new patient</a></p>

<table border="1" cellpadding="5">
  <tr>
    <th>ID</th>
    <th>Gender</th>
    <th>Age</th>
    <th>Stroke (dataset)</th>
    <th>Actions</th>
  </tr>
  {% for patient in patients %}
  <tr>
    <td>{{ patient.id }}</td>
    <td>{{ patient.gender }}</td>
    <td>{{ patient.age }}</td>
    <td>{{ patient.stroke }}</td>
    <td>
      <a href="{{ url_for('main.patient_detail', patient_id=patient.id) }}">View</a> |
      <a href="{{ url_for('main.edit_patient', patient_id=patient.id) }}">Edit</a>
      <form method="post" action="{{ url_for('main.delete_patient', patient_id=patient.id) }}" style="display:inline;">
        {{ csrf_token() }}
        <button type="submit" onclick="return confirm('Delete this patient?');">Delete</button>
      </form>
    </td>
  </tr>
  {% endfor %}
</table>
{% endblock %}